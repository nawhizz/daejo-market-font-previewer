# 제품 요구사항 문서 (PRD): 대조시장 폰트 체험 웹페이지

## 1. 개요 (Overview)

- **한 줄 요약:** 대조시장 재디자인 프로젝트 폰트를 사용자가 직접 꾸미고 저장해보는 인터랙티브 쇼케이스 웹페이지.
    
- **프로젝트 비전:** 대조시장 폰트의 인지도를 높이고, 시장 브랜딩을 대중에게 친근하게 홍보하는 디지털 접점 마련.
    
- **작성자:** Gemini (초안 작성), Replit Agent (현행화)
    
- **최초 작성일:** 2025년 11월 12일
- **최종 수정일:** 2025년 11월 17일
- **현재 상태:** ✅ MVP 개발 완료

## 2. 배경 및 문제 정의 (Background & Problem Statement)

- **문제 상황:** 대조시장 활성화를 위해 전용 폰트가 개발되었으나, 이 폰트를 대중이 쉽게 접하고 사용해 볼 기회가 부족합니다.
    
- **이 문제가 사용자에게 미치는 영향:** 잠재적 사용자(방문객, 디자이너 등)가 폰트의 매력이나 활용성을 인지하기 어려워, 브랜딩 효과가 확산되지 못합니다.
    
- **우리가 이 문제를 해결해야 하는 이유:** 사용자에게 폰트 체험이라는 재미있는 경험을 제공함으로써, 자연스럽게 대조시장 브랜딩을 홍보하고 프로젝트의 성과를 알릴 수 있습니다.

## 3. 목표 및 성공 지표 (Goals & Success Metrics)

- **Objective 1 (주요 목표 1):** 폰트 사용 경험을 통한 대조시장 브랜딩 홍보
    - **Key Result 1.1 (핵심 결과 1.1):** 런칭 후 1개월 내, 페이지 순 방문자(UV) 10,000명 달성
    - **Key Result 1.2 (핵심 결과 1.2):** '메모 저장하기' 기능 누적 실행 1,000건 달성
        
- **Objective 2 (주요 목표 2):** 사용자의 능동적인 폰트 체험 유도
    - **Key Result 2.1 (핵심 결과 2.1):** 페이지 방문자 대비 '메모 저장하기' 전환율 10% 달성

## 4. 사용자 페르소나 및 시나리오 (User Personas & Scenarios)

- **핵심 페르소나:** '김디자'(27세, 그래픽 디자이너)
    - **특징:** 새로운 한글 폰트나 로컬 브랜딩 프로젝트에 관심이 많음. SNS에서 '대조시장 폰트' 소식을 접함.
    - **목표:** 폰트가 실제로 어떻게 보이는지, 어떤 느낌인지 빠르고 쉽게 테스트해보고 싶다.
    - **불편함:** 폰트를 사용해 보려면 폰트 파일을 직접 다운로드하고 디자인 툴에 설치해야 해서 번거롭다.
        
- **사용 시나리오:**
    1. '김디자'는 SNS 광고를 통해 '대조시장 폰트 체험 페이지'에 접속한다.
    2. iPad에 최적화된 스크롤 없는 2열 레이아웃(사이드바 + 에디터)을 확인한다.
    3. 메모창에 "대조시장 폰트 예쁘다!"라고 입력해 본다. 엔터키로 줄바꿈도 가능하다.
    4. 좌측 사이드바의 툴바를 이용해 폰트 크기를 키우고, 굵게(Bold) 처리해본다.
    5. 시장의 따뜻한 느낌을 살리기 위해 메모장 배경색을 노란색 계열로 변경한다.
    6. 메모를 잘못 입력해서 '전체 지우기' 버튼으로 내용을 리셋한다.
    7. '저장하기' 버튼을 눌러 자신이 만든 메모를 저장하고 Toast 알림으로 "저장되었습니다!"라는 확인 메시지를 본다.
    8. '메모 보기' 버튼을 눌러 저장된 메모를 확인한다.

## 5. 기능 요구사항 (Functional Requirements)

### ✅ P0 (MVP 핵심 기능) - 구현 완료

- ✅ \[사용자\]는 페이지 최상단에서 \[페이지 제목 "대조시장체"\]를 볼 수 있다.
- ✅ \[사용자\]는 \[텍스트 입력 영역(메모창)\]에 \[대조시장 커스텀 폰트(DaejoMarket-Regular.ttf)\]가 적용된 텍스트를 입력할 수 있다.
- ✅ \[사용자\]는 \[엔터키\]를 눌러 \[여러 줄의 텍스트\]를 작성할 수 있다.
- ✅ \[사용자\]는 \[스타일 편집 툴바\]를 통해 \[폰트 색상\]을 7가지 프리셋 중에서 선택할 수 있다.
- ✅ \[사용자\]는 \[스타일 편집 툴바\]를 통해 \[폰트 크기\]를 16px ~ 72px 범위에서 조절할 수 있다.
- ✅ \[사용자\]는 \[스타일 편집 툴바\]를 통해 \[폰트 굵기 (Bold)\]를 적용/해제할 수 있다.
- ✅ \[사용자\]는 \[스타일 편집 툴바\]를 통해 \[폰트 기울임 (Italic)\]을 적용/해제할 수 있다.
- ✅ \[사용자\]는 \[스타일 편집 툴바\]를 통해 \[메모창의 배경 색상\]을 7가지 프리셋 중에서 선택할 수 있다.
- ✅ \[사용자\]는 \[전체 지우기 버튼\]을 클릭하여 \[메모창의 모든 내용\]을 삭제하고 새로 작성할 수 있다.
- ✅ \[사용자\]는 \[저장하기 버튼\]을 클릭하여 현재 작성한 \[메모 내용(줄바꿈 포함)과 스타일 정보\]를 PostgreSQL 데이터베이스에 저장할 수 있다.
- ✅ \[사용자\]는 \[저장하기 버튼\] 클릭 시, 저장이 완료되었음을 알리는 \[Toast 알림('저장되었습니다!')\]를 볼 수 있다.
- ✅ \[사용자\]는 \[메모 보기 버튼\]을 클릭하여 \[저장된 메모 페이지\]로 이동할 수 있다.
- ✅ \[사용자\]는 \[저장된 메모 페이지\]에서 \[모든 저장된 메모\]를 \[그리드 레이아웃\]으로 확인할 수 있다.
- ✅ \[저장된 메모\]는 \[원래의 스타일(폰트 색상, 크기, 굵기, 기울임, 배경색, 줄바꿈)\]이 보존되어 표시된다.
        
### P1 (High-Priority)

- ✅ \[사용자\]는 \[iPad 화면\]에 최적화된 \[터치 타겟 크기(44px 이상)\]로 모든 컨트롤을 사용할 수 있다.
- ✅ \[사용자\]는 \[스크롤 없이\] 모든 편집 기능과 메모창을 \[한 화면\]에서 사용할 수 있다.
- ⏳ \[사용자\]는 작성한 메모를 \[이미지 파일(PNG, JPG)\]로 다운로드할 수 있다. (미구현)
        
### P2 (Nice to Have)

- ⏳ \[사용자\]는 작성한 메모를 \[SNS(인스타그램, 트위터)\]로 공유할 수 있다. (미구현)
- ✅ \[사용자\]는 \[다크 모드\]를 사용할 수 있다. (CSS 인프라 구현됨, UI 토글 버튼은 제거)

## 6. 비기능 요구사항 (Non-Functional Requirements)

### 디자인 및 UX (달성됨)
- ✅ **키워드:** 직관적인, 따뜻한, 생동감있는
- ✅ 사용자가 툴바를 즉시 이해하고 사용 가능
- ✅ 시장 분위기를 표현하는 따뜻한 색상 팔레트 (주황-빨강, 크림-노랑 계열)
- ✅ 스크롤 없는 2열 레이아웃으로 집중력 향상
- ✅ iPad 최적화 (1024×768 viewport 기준)
    
### 성능 (달성됨)
- ✅ 대조시장 커스텀 폰트(.ttf)를 웹폰트로 사용
- ✅ @font-face로 최적화된 폰트 로딩
- ✅ 페이지 첫 로딩 시 2초 이내 폰트 적용
    
### 보안 (달성됨)
- ✅ **다층 XSS 방지 시스템 구축:**
  - **Layer 1 (Shared Schema):** Zod로 엄격한 입력값 검증 (Regex, Enum, .strict())
  - **Layer 2 (Server):** sanitize-html로 HTML 태그 완전 제거
  - **Layer 3 (Client):** onPaste 핸들러 + React 자동 이스케이프
- ✅ SQL Injection 방지 (Drizzle ORM 사용)
    
### 접근성 (부분 달성)
- ✅ 터치 타겟 44px 이상 (Apple HIG 준수)
- ✅ 키보드 네비게이션 가능 (contentEditable, 버튼)
- ⚠️ 색상 대비 (기본적인 대비는 확보, WCAG AA 검증 미실시)

## 7. 사용자 흐름 (User Flow)

### 홈 페이지 (/):
1. `페이지 접속`
2. `(표시)` 좌측 사이드바: 제목, 배경색/폰트색 선택, 폰트 크기, Bold/Italic, 전체 지우기/저장하기/메모 보기 버튼
3. `(표시)` 우측 에디터: 빈 메모창 (배경색 적용됨)
4. `(입력)` 메모창에 텍스트 입력 (엔터키로 줄바꿈 가능)
5. `(선택)` 사이드바에서 폰트 스타일 (색상, 크기, Bold, Italic) 변경
6. `(선택)` 사이드바에서 배경색 변경
7. `(클릭)` '전체 지우기' 버튼 클릭 (필요시 내용 리셋)
8. `(클릭)` '저장하기' 버튼 클릭
9. `(표시)` Toast 알림 '저장되었습니다!'
10. `(클릭)` '메모 보기' 버튼 클릭

### 저장된 메모 페이지 (/saved-memos):
1. `(표시)` 헤더: '폰트 체험하기' 뒤로가기 버튼, '저장된 메모' 제목
2. `(표시)` 그리드 레이아웃: 저장된 모든 메모 (스타일 보존)
3. `(스크롤)` 메모가 많을 경우 세로 스크롤
4. `(클릭)` '폰트 체험하기' 버튼으로 홈 페이지 복귀

## 8. 범위 외 (Out of Scope)

- ❌ 사용자 회원가입 및 로그인 기능 (인증 없는 Public API)
- ❌ 저장된 메모 수정, 삭제 기능 (Read-only)
- ❌ 다른 사용자가 저장한 메모 보기 기능 (개인 메모만)
- ❌ 모바일 최적화 반응형 디자인 (iPad 중심)

## 9. 출시 계획 (Release Plan)

- **Phase 1 (MVP):** ✅ 완료 (2025년 11월 17일) - P0 기능 전체 구현
- **Phase 2 (추가 기능):** 
  - 이미지 다운로드 기능
  - SNS 공유 기능
  - 모바일 반응형 최적화

## 10. 의존성 및 리스크 (Dependencies & Risks)

### 의존성 (해결됨)
- ✅ 대조시장 폰트 파일 (DaejoMarket-Regular.ttf) 확보 완료
- ✅ 대조시장 이미지 → 그래디언트 기반 디자인으로 대체 (클라이언트 요청)
    
### 리스크
- ⚠️ **스팸 데이터:** 인증 기능이 없어 악의적 데이터 저장 가능
  - **완화 조치:** XSS 방지, 입력값 검증
  - **향후 개선:** API Rate Limiting, CAPTCHA 추가 고려

## 11. 개발 완료 내역

### 기술 스택
- **Frontend:** React 18, TypeScript, Wouter, TanStack Query, Tailwind CSS, Shadcn UI, Lucide React
- **Backend:** Node.js + Express, PostgreSQL (Neon), Drizzle ORM, sanitize-html
- **폰트:** DaejoMarket-Regular.ttf

### 주요 구현 사항
- ✅ 스크롤 없는 2열 레이아웃 (사이드바 320px + 에디터 flex-1)
- ✅ iPad 터치 최적화 (모든 버튼 44px 이상)
- ✅ 줄바꿈 지원 (innerText + whitespace-pre-wrap)
- ✅ 다층 XSS 방지 (Zod + sanitize-html + React)
- ✅ 저장된 메모 전용 페이지 (독립적인 뷰)
- ✅ E2E 테스트 완료 (Playwright)

### 테스트 완료 항목
- ✅ 텍스트 입력 및 편집
- ✅ 모든 스타일 컨트롤 (색상, 크기, Bold, Italic, 배경색)
- ✅ 줄바꿈 (엔터키) 기능
- ✅ 전체 지우기 기능
- ✅ 메모 저장 (DB 검증)
- ✅ 저장된 메모 표시 (스타일 보존)
- ✅ 페이지 전환 (/ ↔ /saved-memos)
- ✅ 스크롤 없는 레이아웃 검증
- ✅ XSS 공격 차단

---

**문서 관리:**
- 초안: Gemini (2025-11-12)
- 현행화: Replit Agent (2025-11-17)
- 다음 리뷰: Phase 2 기능 추가 시
